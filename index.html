<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="favicon_io/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="favicon_io/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon_io/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon_io/favicon-16x16.png">
<link rel="manifest" href="favicon_io/site.webmanifest">
<title>Anand AI - Your Personal Assistant</title>
<link rel="stylesheet" href="style.css?v=20251121d"> <!-- cache bust -->
<meta name="api-base" content="https://chat-personal-2hfs.onrender.com">
</head>
<body>

<!-- Loading Screen -->
<div id="loading-screen" aria-label="Loading application">
  <div class="loader-wrapper">
    <div class="modern-loader">
      <div class="loader-ring"></div>
      <div class="loader-ring"></div>
      <div class="loader-ring"></div>
      <div class="loader-text">Anand AI</div>
    </div>
    <div class="loading-status">Initializing...</div>
  </div>
</div>

<!-- Main Application -->
<div id="main-app">
  <!-- Animated Background -->
  <div class="bg-gradient"></div>
  <div class="bg-mesh">
    <div class="mesh-dot"></div>
    <div class="mesh-dot"></div>
    <div class="mesh-dot"></div>
    <div class="mesh-dot"></div>
  </div>

  <!-- Sidebar -->
  <aside class="sidebar" aria-label="Navigation">
    <div class="sidebar-header">
      <div class="app-logo">
        <div class="logo-circle">
          <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
            <circle cx="16" cy="16" r="15" stroke="url(#logoGradient)" stroke-width="2"/>
            <path d="M12 16L15 19L20 13" stroke="url(#logoGradient)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
            <defs>
              <linearGradient id="logoGradient" x1="0" y1="0" x2="32" y2="32">
                <stop stop-color="#667eea"/>
                <stop offset="1" stop-color="#764ba2"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
        <div class="app-name">
          <div class="name-primary">Anand</div>
          <div class="name-sub">AI Assistant</div>
        </div>
      </div>
    </div>

    <nav class="sidebar-nav">
      <button class="nav-item active" type="button" aria-label="Chat">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z" stroke="currentColor" stroke-width="2" fill="none"/>
        </svg>
        <span>Chat</span>
      </button>
      
      <button class="nav-item" id="history-btn" type="button" aria-label="History">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none"/>
        </svg>
        <span>History</span>
      </button>
      
      <button class="nav-item" id="clear-chat-btn" type="button" aria-label="Clear chat">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <span>Clear Chat</span>
      </button>
      
      <button class="nav-item" id="theme-toggle-btn" type="button" aria-label="Toggle theme">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <span>Theme</span>
      </button>

      <button class="nav-item" id="spotify-logout-btn" type="button" aria-label="Disconnect Spotify">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M10 12h10m0 0l-3-3m3 3l-3 3M4 12H3a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1z"/>
          <path d="M13 4.5a8.93 8.93 0 0 0-6.42 2.52 8.99 8.99 0 0 0 0 12.96A8.93 8.93 0 0 0 13 22.5"/>
        </svg>
        <span>Logout Spotify</span>
      </button>
    </nav>

    <div class="sidebar-footer">
      <div class="user-profile">
        <img src="screenshot.png" alt="User avatar" class="profile-avatar">
        <div class="profile-info">
          <div class="profile-name">Anand</div>
          <div class="profile-status">
            <span class="status-dot-mini"></span>
            Online
          </div>
        </div>
      </div>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <div id="toast-container" aria-live="assertive" aria-atomic="true"></div>
    
    <!-- Header -->
    <header class="modern-header">
      <div class="header-info">
        <h1 class="header-title">Conversation</h1>
        <p class="header-subtitle">Powered by ‡§¶‡•á‡§π ‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞</p>
      </div>
      
      <div class="header-actions">
        <!-- Spotify Integration -->
        <div id="spotify-player" class="spotify-widget" aria-live="polite">
          <button id="spotify-login-btn" class="spotify-connect-btn" type="button" aria-label="Connect Spotify">
            <svg width="20" height="20" viewBox="0 0 168 168" fill="none">
              <path d="M84 0C37.6 0 0 37.6 0 84s37.6 84 84 84 84-37.6 84-84S130.4 0 84 0zm38.5 121.4c-1.6 2.6-5 3.4-7.6 1.8-20.9-12.8-47.2-15.7-78.3-8.5-3 .7-6-1.2-6.7-4.2-.7-3 1.2-6 4.2-6.7 34.2-7.8 63.1-4.5 86.3 10 2.6 1.6 3.4 5 2.1 7.6zm10.9-24.3c-2 3.2-6.3 4.2-9.5 2.2-24-14.8-60.6-19.1-89-10.3-3.5 1.1-7.2-.9-8.3-4.4-1.1-3.5.9-7.2 4.4-8.3 32.1-9.8 72.2-5 99.6 12.3 3.2 2 4.2 6.3 2.8 8.5zm.9-25.3c-28.7-17-76.1-18.6-103.4-10.1-4.1 1.3-8.5-1-9.8-5.1-1.3-4.1 1-8.5 5.1-9.8 31.5-9.6 83.6-7.7 116.2 12 3.6 2.1 4.8 6.7 2.7 10.3-2.1 3.6-6.7 4.8-10.8 2.7z" fill="#1DB954"/>
            </svg>
            <span>Connect Spotify</span>
          </button>
          
          <div class="spotify-player-active" hidden>
            <div class="spotify-album-art">
              <img id="spotify-album" alt="Album art">
              <div class="album-overlay">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                  <path d="M8 5v14l11-7z"/>
                </svg>
              </div>
            </div>
            <div class="spotify-track-info">
              <div class="track-name" id="spotify-title">Track Name</div>
              <div class="track-artist" id="spotify-artist">Artist</div>
            </div>
            <div class="spotify-controls-modern" aria-label="Playback controls">
              <button class="control-btn" id="sp-prev" aria-label="Previous">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/>
                </svg>
              </button>
              <button class="control-btn control-btn-play" id="sp-play" aria-label="Play/Pause">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M8 5v14l11-7z"/>
                </svg>
              </button>
              <button class="control-btn" id="sp-next" aria-label="Next">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Messages Area -->
    <div class="messages-container" id="messages" role="log" aria-live="polite" aria-atomic="false">
      <div class="welcome-card" aria-label="Welcome message">
        <div class="welcome-icon-modern">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none">
            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="url(#welcomeGradient)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <defs>
              <linearGradient id="welcomeGradient" x1="0" y1="0" x2="24" y2="24">
                <stop stop-color="#667eea"/>
                <stop offset="1" stop-color="#764ba2"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
        <h2 class="welcome-title">Welcome to Anand AI</h2>
        <p class="welcome-desc">Your intelligent assistant powered by advanced AI. Ask me anything, and I'll do my best to help!</p>
        <div class="quick-actions">
          <div class="quick-action-chip" data-prompt="Give me 5 creative project ideas for a web developer">üí° Get Ideas</div>
          <div class="quick-action-chip" data-prompt="Explain how to analyze user data effectively with privacy in mind">üìä Analyze Data</div>
          <div class="quick-action-chip" data-prompt="Help me write engaging content for a tech blog">‚úçÔ∏è Write Content</div>
        </div>
      </div>
    </div>
    
    <!-- Scroll to Bottom Button -->
    <button id="scroll-to-bottom" class="scroll-btn" hidden aria-label="Scroll to bottom">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
        <path d="M7 10l5 5 5-5z"/>
      </svg>
    </button>

    <!-- Input Area -->
    <div class="input-section">
      <div class="input-container">
        <button class="input-action-btn" id="voice-btn" type="button" aria-label="Voice input">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M12 1a3 3 0 00-3 3v8a3 3 0 006 0V4a3 3 0 00-3-3z" stroke="currentColor" stroke-width="2"/>
            <path d="M19 10v2a7 7 0 01-14 0v-2M12 19v4M8 23h8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
        
        <button class="input-action-btn" type="button" id="paste-btn" aria-label="Paste">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        
        <textarea 
          id="message-input" 
          class="modern-input" 
          placeholder="Type your message here..." 
          rows="1" 
          aria-label="Chat input"
        ></textarea>
        
        <button id="send-btn" class="send-btn-modern" type="button" aria-label="Send message">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
      
      <div class="input-footer">
        <span class="input-hint">‚å®Ô∏è Enter to send ‚Ä¢ Shift+Enter for new line ‚Ä¢ Ctrl+K to focus ‚Ä¢ Ctrl+L to clear</span>
      </div>
    </div>
  </main>
</div>

<script src="script.js"></script>

</body>
</html>